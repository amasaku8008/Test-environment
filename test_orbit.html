<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;3D Gemini Habitat&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Load Three.js library --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Custom CSS for the 3D canvas and UI */</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden; /* Prevent scrolling when dragging */</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Inter', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #000000;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>#scene-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100vw;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100vh;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>canvas {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.info-box {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>right: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 10;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #ffffff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: rgba(10, 20, 40, 0.8);</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 0.75rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 300px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="scene-container"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="info-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h1 class="text-xl font-bold mb-2 text-cyan-400"&gt;Gemini Orbital Habitat&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>This is a 3D simulation of a concept space station.</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="text-xs mt-2 text-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>Click and drag to rotate the camera. Objects are animated using basic physics.</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- Global Variables ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>let scene, camera, renderer;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let station, satellite;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let isDragging = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let previousMousePosition = { x: 0, y: 0 };</p>
<p class="p1"><span class="Apple-converted-space">        </span>let rotationSpeed = 0.005;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- Firebase Globals (Required but not used for this simple simulation) ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};</p>
<p class="p1"><span class="Apple-converted-space">        </span>const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// console.log("Firebase initialized (config available but not used for 3D scene logic)");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/**</p>
<p class="p1"><span class="Apple-converted-space">         </span>* Initializes the Three.js scene, camera, and renderer.</p>
<p class="p1"><span class="Apple-converted-space">         </span>*/</p>
<p class="p1"><span class="Apple-converted-space">        </span>function init() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 1. Scene Setup (Black background for space)</p>
<p class="p1"><span class="Apple-converted-space">            </span>scene = new THREE.Scene();</p>
<p class="p1"><span class="Apple-converted-space">            </span>scene.background = new THREE.Color(0x050510);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 2. Camera Setup</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('scene-container');</p>
<p class="p1"><span class="Apple-converted-space">            </span>camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);</p>
<p class="p1"><span class="Apple-converted-space">            </span>camera.position.z = 10;</p>
<p class="p1"><span class="Apple-converted-space">            </span>camera.position.y = 5;</p>
<p class="p1"><span class="Apple-converted-space">            </span>camera.lookAt(0, 0, 0); // Look at the center of the scene</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 3. Renderer Setup</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderer = new THREE.WebGLRenderer({ antialias: true });</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderer.setSize(container.clientWidth, container.clientHeight);</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.appendChild(renderer.domElement);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 4. Lights</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Ambient Light (soft overall illumination)</p>
<p class="p1"><span class="Apple-converted-space">            </span>const ambientLight = new THREE.AmbientLight(0x404040, 2); // soft white light</p>
<p class="p1"><span class="Apple-converted-space">            </span>scene.add(ambientLight);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Directional Light (simulating the Sun)</p>
<p class="p1"><span class="Apple-converted-space">            </span>const directionalLight = new THREE.DirectionalLight(0xffffff, 3);</p>
<p class="p1"><span class="Apple-converted-space">            </span>directionalLight.position.set(5, 5, 5);</p>
<p class="p1"><span class="Apple-converted-space">            </span>scene.add(directionalLight);</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- Create Objects ---</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 5. Central Space Station (Gemini Habitat)</p>
<p class="p1"><span class="Apple-converted-space">            </span>const stationGeometry = new THREE.CylinderGeometry(1, 1, 5, 32);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const stationMaterial = new THREE.MeshPhongMaterial({ color: 0x0077ff, emissive: 0x000000, shininess: 100 });</p>
<p class="p1"><span class="Apple-converted-space">            </span>station = new THREE.Mesh(stationGeometry, stationMaterial);</p>
<p class="p1"><span class="Apple-converted-space">            </span>station.position.set(0, 0, 0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>station.castShadow = true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>station.receiveShadow = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Add some window detail (simple cubes)</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; 8; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const windowGeometry = new THREE.BoxGeometry(0.2, 0.2, 0.2);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const windowMaterial = new THREE.MeshBasicMaterial({ color: 0xffff00 });</p>
<p class="p1"><span class="Apple-converted-space">                </span>const windowMesh = new THREE.Mesh(windowGeometry, windowMaterial);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const angle = (i / 8) * Math.PI * 2;</p>
<p class="p1"><span class="Apple-converted-space">                </span>windowMesh.position.x = Math.cos(angle) * 1.05;</p>
<p class="p1"><span class="Apple-converted-space">                </span>windowMesh.position.z = Math.sin(angle) * 1.05;</p>
<p class="p1"><span class="Apple-converted-space">                </span>windowMesh.position.y = Math.sin(i * 0.5) * 2;</p>
<p class="p1"><span class="Apple-converted-space">                </span>station.add(windowMesh);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>scene.add(station);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 6. Orbiting Satellite</p>
<p class="p1"><span class="Apple-converted-space">            </span>const satelliteGeometry = new THREE.IcosahedronGeometry(0.3, 0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const satelliteMaterial = new THREE.MeshPhongMaterial({ color: 0xff00ff, emissive: 0x100010, shininess: 50 });</p>
<p class="p1"><span class="Apple-converted-space">            </span>satellite = new THREE.Mesh(satelliteGeometry, satelliteMaterial);</p>
<p class="p1"><span class="Apple-converted-space">            </span>scene.add(satellite);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 7. Star Field (Particle System)</p>
<p class="p1"><span class="Apple-converted-space">            </span>const starsGeometry = new THREE.BufferGeometry();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const starCount = 5000;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const positions = new Float32Array(starCount * 3);</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; starCount; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>positions[i * 3 + 0] = (Math.random() - 0.5) * 200; // X</p>
<p class="p1"><span class="Apple-converted-space">                </span>positions[i * 3 + 1] = (Math.random() - 0.5) * 200; // Y</p>
<p class="p1"><span class="Apple-converted-space">                </span>positions[i * 3 + 2] = (Math.random() - 0.5) * 200; // Z</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>starsGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));</p>
<p class="p1"><span class="Apple-converted-space">            </span>const starsMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 0.1 });</p>
<p class="p1"><span class="Apple-converted-space">            </span>const starField = new THREE.Points(starsGeometry, starsMaterial);</p>
<p class="p1"><span class="Apple-converted-space">            </span>scene.add(starField);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- Event Listeners ---</p>
<p class="p1"><span class="Apple-converted-space">            </span>window.addEventListener('resize', onWindowResize, false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.addEventListener('mousedown', onMouseDown, false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.addEventListener('mousemove', onMouseMove, false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.addEventListener('mouseup', onMouseUp, false);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/**</p>
<p class="p1"><span class="Apple-converted-space">         </span>* Handles window resizing to keep the scene responsive.</p>
<p class="p1"><span class="Apple-converted-space">         </span>*/</p>
<p class="p1"><span class="Apple-converted-space">        </span>function onWindowResize() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('scene-container');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const width = container.clientWidth;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const height = container.clientHeight;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>camera.aspect = width / height;</p>
<p class="p1"><span class="Apple-converted-space">            </span>camera.updateProjectionMatrix();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderer.setSize(width, height);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- Custom Mouse Controls for Camera Orbit ---</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function onMouseDown(event) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>isDragging = true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>previousMousePosition.x = event.clientX;</p>
<p class="p1"><span class="Apple-converted-space">            </span>previousMousePosition.y = event.clientY;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function onMouseMove(event) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!isDragging) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const deltaX = event.clientX - previousMousePosition.x;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const deltaY = event.clientY - previousMousePosition.y;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Calculate the current distance from the camera to the target (0,0,0)</p>
<p class="p1"><span class="Apple-converted-space">            </span>const radius = camera.position.length();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 1. Calculate new camera angles based on mouse movement</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Horizontal rotation (around the Y axis)</p>
<p class="p1"><span class="Apple-converted-space">            </span>let spherical = new THREE.Spherical().setFromVector3(camera.position);</p>
<p class="p1"><span class="Apple-converted-space">            </span>spherical.theta -= deltaX * rotationSpeed;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Vertical rotation (around the X axis, limiting to avoid flipping)</p>
<p class="p1"><span class="Apple-converted-space">            </span>spherical.phi -= deltaY * rotationSpeed;</p>
<p class="p1"><span class="Apple-converted-space">            </span>spherical.phi = Math.max(0.1, Math.min(Math.PI - 0.1, spherical.phi)); // Clamp phi</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 2. Convert back to Cartesian and update camera position</p>
<p class="p1"><span class="Apple-converted-space">            </span>camera.position.setFromSpherical(spherical);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 3. Always look at the center of the scene</p>
<p class="p1"><span class="Apple-converted-space">            </span>camera.lookAt(new THREE.Vector3(0, 0, 0));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 4. Update previous position</p>
<p class="p1"><span class="Apple-converted-space">            </span>previousMousePosition.x = event.clientX;</p>
<p class="p1"><span class="Apple-converted-space">            </span>previousMousePosition.y = event.clientY;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function onMouseUp(event) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>isDragging = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/**</p>
<p class="p1"><span class="Apple-converted-space">         </span>* Animation loop.</p>
<p class="p1"><span class="Apple-converted-space">         </span>*/</p>
<p class="p1"><span class="Apple-converted-space">        </span>function animate() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>requestAnimationFrame(animate);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Rotate the main station slowly</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (station) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>station.rotation.y += 0.005;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Animate the satellite orbiting the station</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (satellite) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const orbitRadius = 4;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const orbitSpeed = 0.01;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const time = Date.now() * orbitSpeed;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>satellite.position.x = Math.cos(time) * orbitRadius;</p>
<p class="p1"><span class="Apple-converted-space">                </span>satellite.position.z = Math.sin(time) * orbitRadius;</p>
<p class="p1"><span class="Apple-converted-space">                </span>satellite.position.y = Math.sin(time * 0.5) * 1.5; // Slight vertical oscillation</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>renderer.render(scene, camera);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Wait for the window to load before starting the 3D process</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.onload = function () {</p>
<p class="p1"><span class="Apple-converted-space">            </span>init();</p>
<p class="p1"><span class="Apple-converted-space">            </span>animate();</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
